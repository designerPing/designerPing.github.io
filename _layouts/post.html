<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en' }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ page.title }} | {{ site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    {% include head-custom.html %}
    <style>
      img {
        max-width: 100%;
        height: auto;
      }
    
      /* 让 .site-header 和 .site-footer 固定 */
      .site-header {
        width: 100%;
        position: fixed;
        top: 0;
        left: 0;
        background: #fff;
        padding: 1rem;
        z-index: 15; /* 保持在其他内容上方 */
      }
    
      .site-footer {
        width: 100%;
        position: fixed;
        bottom: 0;
        left: 0;
        background: #fff;
        padding: 1rem;
        z-index: 15; /* 保持在其他内容上方 */
      }
    
      /* 确保中间内容不会和头部和尾部重叠 */
      .container {
        padding-top: 8rem; /* 根据 .site-header 的高度调整 */
        padding-bottom: 8rem; /* 根据 .site-footer 的高度调整 */
      }
    
      .post {
        margin-bottom: 4rem;
        width: calc(95% - 30%);
        position: relative; /* 修改为 relative 避免粘性导致重叠 */
        top: 0;
        left: 1rem;
        background: #fff;
        padding-right: 1rem;
        padding-left: 1rem;
      }
    
      .post-meta {
        color: #888;
        font-size: 0.9rem;
        margin-bottom: 1rem;
      }
    
      article.post {
        border-bottom: 1px solid #e1e1e1;
        padding-bottom: 1rem;
        margin-bottom: 2rem;
      }
    
      .post-title {
        color: #333;
        margin-top: 1rem; /* 避免与其他元素重叠 */
      }
    
      .post-header {
        margin-bottom: 4rem;
        width: calc(95% - 30%);
        position: relative; /* 修改为 relative 避免粘性导致重叠 */
        top: 0;
        left: 80px;
        background: #fff;
        padding-right: 2rem;
        padding-left: 2rem;
        z-index: 10;
      }
    
      .post-body {
        width: calc(95% - 30%);
        margin-top: 8rem;
        left: 80px;
        padding-right: 2rem;
        padding-left: 2rem;
        position: relative;
        z-index: 1;
      }
    
      .white-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 8rem;
        background-color: #fff;
        z-index: 5;
      }
    
      /* 不再粘性处理，直接使用普通布局 */
      .site-header .container, .site-footer .container {
        max-width: 100%;
      }
    </style>
    
  </head>
  <body>
    <div class="white-background"></div>
    <header class="site-header" style="position: relative; z-index: 15;">
      <div class="container">
        <h1 class="site-title"><a href="{{ '/' | relative_url }}">{{ site.title }}</a></h1>
        <p class="site-description">{{ site.description }}</p>
        <nav class="site-nav">
          <ul>
            <li><a href="{{ '/' | relative_url }}">Home</a></li>
            <li><a href="{{ site.github.repository_url }}">GitHub</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main class="post-content container">
      <article class="post">
        <header class="post-header">
          <h2 class="post-title">{{ page.title }}</h2>
          <p class="post-meta">
            <span class="post-date">
              <i class="fas fa-calendar-alt"></i> {{ page.date | date: "%B %d, %Y" }}
            </span>
            {% if page.categories %}
            <span class="post-categories">
              <i class="fas fa-folder"></i> Categories: {{ page.categories | join: ', ' }}
            </span>
            {% endif %}
          </p>
        </header>

        <div class="post-body">
          {{ content }}
        </div>
      </article>

      <section class="post-footer">
        <div class="tags">
          {% if page.tags %}
          <p><strong>Tags:</strong> 
            {% for tag in page.tags %}
              <a href="{{ '/tags/' | append: tag | relative_url }}" class="tag">#{{ tag }}</a>
            {% endfor %}
          </p>
          {% endif %}
        </div>
        <div class="post-navigation">
          {% if page.previous %}
          <a class="prev-post" href="{{ page.previous.url | relative_url }}">&larr; {{ page.previous.title }}</a>
          {% endif %}
          {% if page.next %}
          <a class="next-post" href="{{ page.next.url | relative_url }}">{{ page.next.title }} &rarr;</a>
          {% endif %}
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container">
        <p>&copy; {{ "now" | date: "%Y" }} {{ site.title }}. All rights reserved.</p>
        <p>Powered by <a href="https://jekyllrb.com/">Jekyll</a> | Theme customized by <a href="{{ site.github.repository_url }}">{{ site.github.owner_name }}</a></p>
      </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
    <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
  </body>
</html>